
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <div class="welcome-card floating-card">
                <h1 class="page-header text-center mb-4">Welcome to ProcrastiNo</h1>
                <p class="text-center lead mb-5">Your personal study productivity hub. Choose from the options below to get started.</p>
                
                <div class="row justify-content-center g-4">
                    <div class="col-md-4">
                        <div class="feature-card text-center p-4">
                            <i class="bi bi-alarm feature-icon mb-3"></i>
                            <h3>Focus Timer</h3>
                            <p>Set up focused study sessions with scheduled breaks to maximize productivity</p>
                            <a  class="btn btn-primary mt-3" id="start-timer-btn" >
                                <i class="bi bi-play-circle me-2"></i>Start Timer
                            </a>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="feature-card text-center p-4">
                            <i class="bi bi-journal-text feature-icon mb-3"></i>
                            <h3>Study Plan</h3>
                            <p>Create and manage your study schedule and academic goals</p>
                            <a href="{{ url_for('study_plan') }}" class="btn btn-primary mt-3">
                                <i class="bi bi-calendar-check me-2"></i>View Plans
                            </a>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="feature-card text-center p-4">
                            <i class="bi bi-graph-up feature-icon mb-3"></i>
                            <h3>Dashboard</h3>
                            <p>Track your progress and see insights about your study habits</p>
                            <a href="{{ url_for('dashboard') }}" class="btn btn-primary mt-3">
                                <i class="bi bi-pie-chart me-2"></i>View Stats
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    $(document).ready(function() {
        // Select all feature cards using jQuery selector
        const $featureCards = $('.feature-card');

        // Iterate through each feature card using jQuery's .each()
        $featureCards.each(function(index) {
            // 'this' refers to the current DOM element in the loop
            const $card = $(this); // Wrap the DOM element in a jQuery object

            // Use setTimeout to add the class with a staggered delay
            setTimeout(() => {
                $card.addClass('fade-in-up');
            }, 100 * index); // Delay increases for each card
        });


                // --- Click Listener for "Start Timer" Button ---
        // Assumes loadMainContent is globally available from base.js
        $('#start-timer-btn').on('click', function(event) {
            event.preventDefault(); // Prevent default link behavior


            if (typeof loadMainContent === 'function') {
                loadMainContent('mainpage'); // Use the existing function to load content into <main>

                // Update browser history
                // Update active class in sidebar (assuming 'mainpage' corresponds to 'Home' link)
                // Adjust selector if 'mainpage' has its own sidebar link
                $('.sidebar .nav-custom').removeClass('active');
                $('.sidebar a.nav-custom[href="/home"]').addClass('active'); // Activate 'Home' link


            } else {
                console.error("loadMainContent function is not defined.");
                // Fallback: Perform a standard navigation if function is missing
                // window.location.href = targetUrl;
            }
        });

    });
</script>
{% endblock %}