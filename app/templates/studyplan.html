{% block styles %}
<style>
    .content-wrapper {
        padding: 20px;
    }
    
    .page-title {
        text-align: center;
        color: #C38D60;
        margin-bottom: 30px;
        font-size: 32px;
    }
    
    .input-container {
        background-color: #F3E7DD;
        border-radius: 10px;
        padding: 30px;
        margin-bottom: 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .study-input {
        width: 100%;
        padding: 15px;
        border-radius: 10px;
        border: none;
        margin-bottom: 20px;
        font-size: 16px;
    }
    
    .add-btn {
        background-color: #C38D60;
        color: white;
        border: none;
        border-radius: 20px;
        padding: 8px 30px;
        font-size: 16px;
        cursor: pointer;
    }
    
    .add-btn:hover {
        background-color: #b07a50;
    }
    
    .tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 1px solid #ddd;
    }
    
    .tab {
        padding: 10px 20px;
        margin-right: 10px;
        color: #C38D60;
        cursor: pointer;
        font-size: 18px;
        position: relative;
    }
    
    .tab.active {
        color: #C38D60;
        font-weight: bold;
    }
    
    .tab.active::after {
        content: '';
        position: absolute;
        bottom: -1px;
        left: 0;
        right: 0;
        height: 2px;
        background-color: #C38D60;
    }
    
    .study-item {
        background-color: #F3E7DD;
        border-radius: 10px;
        padding: 15px 20px;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .study-checkbox {
        appearance: none;
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #C38D60;
        border-radius: 50%;
        margin-right: 15px;
        cursor: pointer;
        position: relative;
    }
    
    .study-checkbox:checked::after {
        content: '';
        position: absolute;
        top: 3px;
        left: 3px;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: #C38D60;
    }
    
    .study-text {
        font-size: 16px;
        flex-grow: 1;
        margin-left: 10px;
    }
    
    .delete-btn {
        background: none;
        border: none;
        color: #C38D60;
        cursor: pointer;
        font-size: 16px;
    }
    
    .task-container {
        max-height: 400px;
        overflow-y: auto;
    }
</style>
{% endblock %}

{% block content %}
<h1 class="page-title">Study Plan</h1>

<div class="input-container">
    <input type="text" class="study-input" id="studyInput" placeholder="Input your study plan">
    <button class="add-btn" id="addButton">Add</button>
</div>

<div class="tabs">
    <div class="tab active" id="openTab">Open Goals</div>
    <div class="tab" id="completedTab">Completed Goals</div>
</div>

<div class="task-container" id="openTasks">
    <!-- Open tasks will be displayed here -->
    <div class="study-item">
        <input type="checkbox" class="study-checkbox">
        <span class="study-text">Learn Math</span>
        <button class="delete-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
            </svg>
        </button>
    </div>
    <div class="study-item">
        <input type="checkbox" class="study-checkbox">
        <span class="study-text">Learn Math</span>
        <button class="delete-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
            </svg>
        </button>
    </div>
    <div class="study-item">
        <input type="checkbox" class="study-checkbox">
        <span class="study-text">Learn Math</span>
        <button class="delete-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
            </svg>
        </button>
    </div>
    <div class="study-item">
        <input type="checkbox" class="study-checkbox">
        <span class="study-text">Learn Math</span>
        <button class="delete-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
            </svg>
        </button>
    </div>
</div>

<div class="task-container" id="completedTasks" style="display: none;">
    <!-- Completed tasks will be displayed here -->
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get references to elements
        const studyInput = document.getElementById('studyInput');
        const addButton = document.getElementById('addButton');
        const openTab = document.getElementById('openTab');
        const completedTab = document.getElementById('completedTab');
        const openTasks = document.getElementById('openTasks');
        const completedTasks = document.getElementById('completedTasks');
        
        // Tab switching functionality
        openTab.addEventListener('click', function() {
            openTab.classList.add('active');
            completedTab.classList.remove('active');
            openTasks.style.display = 'block';
            completedTasks.style.display = 'none';
        });
        
        completedTab.addEventListener('click', function() {
            completedTab.classList.add('active');
            openTab.classList.remove('active');
            completedTasks.style.display = 'block';
            openTasks.style.display = 'none';
        });
        
        // Add new task functionality
        addButton.addEventListener('click', function() {
            const taskText = studyInput.value.trim();
            if (taskText) {
                addTask(taskText);
                studyInput.value = '';
            }
        });
        
        // Also allow Enter key to add task
        studyInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const taskText = studyInput.value.trim();
                if (taskText) {
                    addTask(taskText);
                    studyInput.value = '';
                }
            }
        });
        
        // Handle checkbox changes
        document.addEventListener('change', function(e) {
            if (e.target.classList.contains('study-checkbox')) {
                const taskItem = e.target.closest('.study-item');
                if (e.target.checked) {
                    // Move to completed tasks
                    openTasks.removeChild(taskItem);
                    completedTasks.appendChild(taskItem);
                } else {
                    // Move back to open tasks
                    completedTasks.removeChild(taskItem);
                    openTasks.appendChild(taskItem);
                }
            }
        });
        
        // Handle delete button clicks
        document.addEventListener('click', function(e) {
            if (e.target.closest('.delete-btn')) {
                const taskItem = e.target.closest('.study-item');
                taskItem.remove();
            }
        });
        
        // Function to add new task
        function addTask(text) {
            const taskItem = document.createElement('div');
            taskItem.className = 'study-item';
            
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.className = 'study-checkbox';
            
            const taskText = document.createElement('span');
            taskText.className = 'study-text';
            taskText.textContent = text;
            
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'delete-btn';
            deleteBtn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                    <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                </svg>
            `;
            
            taskItem.appendChild(checkbox);
            taskItem.appendChild(taskText);
            taskItem.appendChild(deleteBtn);
            
            openTasks.appendChild(taskItem);
        }
    });
</script>
{% endblock %}